<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <h1>Enter Number</h1>
      <small class="message"></small>
      <input type="text" id="input" />
      <button id="button">Find</button>

      <div class="list">
        <div class="evens"><h2>Evens</h2></div>
        <div class="odds"><h2>Odds</h2></div>
      </div>
    </div>
    <script>
      $(document).ready(() => {
        function animateAppend(container, items) {
          let delay = 0;
          const delayIncrement = 20; // milliseconds between each item appearing

          items.forEach((item) => {
            const p = $(`<p>${item}</p>`);
            setTimeout(() => {
              container.append(p);
            }, delay);
            delay += delayIncrement;
          });
        }

        $("#button").click(() => {
          const button = $("#button");
          const messageEl = $(".message");
          const inputVal = $("#input").val();
          const v = parseInt(inputVal, 10);

          $(".odds p").remove();
          $(".evens p").remove();
          messageEl.text("");

          if (isNaN(v) || v < 0 || inputVal.trim() === "") {
            messageEl.text("Please enter a valid non-negative number.");
            return; // Stop the function
          }

          button.prop("disabled", true).text("Finding...");

          setTimeout(() => {
            const evens = [];
            const odds = [];

            for (let n = 0; n <= v; n++) {
              n % 2 ? odds.push(n) : evens.push(n);
            }

            animateAppend($(".evens"), evens);
            animateAppend($(".odds"), odds);

            button.prop("disabled", false).text("Find");
          }, 10);
        });
      });
    </script>
  </body>
</html>
